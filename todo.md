# AptGPT - 프로젝트 TODO

## 데이터베이스 스키마
- [x] apartments 테이블 (아파트명, 위치, 좌표, 건축년도, 세대수, 대표면적)
- [x] transactions 테이블 (거래일, 가격, 면적, 아파트 연결)
- [x] subway_stations 테이블 (역명, 호선, 좌표, 환승역 여부)
- [x] user_preferences 테이블 (사용자 선호도 저장)
- [x] recommendations 테이블 (추천 결과 저장)

## 추천 알고리즘
- [x] 거리 기반 점수 계산 (Haversine 공식)
- [x] 교통 점수 계산 (역 개수, 최단 거리, 환승역 보너스)
- [x] 가격 점수 계산 (예산 대비)
- [x] 트렌드 점수 계산 (최근 거래량 / 평균 거래량)
- [x] 투자 성향 점수 계산 (안정형/수익형)
- [x] 최종 점수 가중치 합산

## 프론트엔드 UI
- [x] 사용자 선호도 입력 폼 (예산, 지역, 면적, 교통 중요도)
- [x] 대시보드 레이아웃 (International Typographic Style 적용)
- [ ] 추천 결과 카드 목록 (점수순 정렬)
- [ ] 개별 아파트 상세 페이지
- [ ] 실거래가 차트 (최근 1년 추이)
- [ ] 지도 시각화 (Google Maps)
- [ ] 대화형 추천 이유 설명 (LLM 기반)

## 백엔드 API
- [ ] 추천 API 엔드포인트 (tRPC procedure)
- [x] 아파트 상세 정보 조회 API (DB 헬퍼)
- [x] 실거래가 조회 API (DB 헬퍼)
- [x] 주변 지하철역 조회 API (DB 헬퍼)
- [ ] LLM 기반 추천 설명 생성 API
- [x] 사용자 선호도 저장 API (DB 헬퍼)

## 지도 및 시각화
- [ ] Google Maps 통합
- [ ] 아파트 마커 표시
- [ ] 지하철역 마커 표시
- [ ] 실거래가 차트 (Recharts)

## LLM 기반 기능
- [ ] 추천 이유 자연어 설명 생성
- [ ] 점수 계산 근거 설명
- [ ] 대화형 Q&A 기능

## 알림 기능
- [ ] 새로운 아파트 등록 시 소유자 알림

## 테스트 및 최적화
- [x] 추천 알고리즘 단위 테스트 (25개 테스트 통과)
- [ ] API 통합 테스트
- [ ] UI 반응성 테스트
- [ ] 예외 처리 및 에러 핸들링
- [ ] 성능 최적화

## 스타일 및 디자인
- [x] International Typographic Style 적용 (OKLCH 색상, IBM Plex Sans)
- [x] 색상 팔레트 (순백, 빨간색 액센트, 검은색)
- [x] 타이포그래피 (IBM Plex Sans 산세리프)
- [x] 그리드 시스템 및 여백 정의

## 버그 수정 (현재 진행 중)
- [ ] Home.tsx useAuth import 중복 오류 해결
- [ ] getFilteredApartments GROUP BY 오류 수정
- [ ] 추천 API 정상 작동 확인 및 테스트
- [ ] 데이터베이스 쿼리 최적화

## SaaS 대시보드 기능
- [ ] 사용자 프로필 페이지 (구독 상태, 사용 현황)
- [ ] 추천 이력 조회 페이지
- [ ] 즐겨찾기 아파트 관리
- [ ] 비교 기능 (최대 3개 아파트)

## Stripe 결제 기능
- [ ] Stripe 계정 연동
- [ ] 구독 플랜 설정 (무료, 프리미엄, 엔터프라이즈)
- [ ] 결제 페이지 구현
- [ ] 결제 성공/실패 처리
- [ ] 구독 취소 기능
- [ ] 청구서 관리

## LLM 기반 설명 기능
- [ ] 추천 이유 자연어 설명 생성
- [ ] 대화형 Q&A 기능
